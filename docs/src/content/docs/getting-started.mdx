import React, { useState, useEffect } from 'react';
images,
createdAt: new Date().toISOString(),
};
onSubmit(newFic);
// reset
setTitle('');
setAuthor('Anônimo');
setAgeGroup(ages[0]);
setSelectedGenres([]);
setSummary('');
setContent('');
setImageFiles([]);
setImagePreviews([]);
}


return (
<form onSubmit={submit} className="space-y-3">
<div>
<label className="text-sm">Título</label>
<input value={title} onChange={(e) => setTitle(e.target.value)} className="w-full border rounded p-2 text-sm" />
</div>
<div>
<label className="text-sm">Autor</label>
<input value={author} onChange={(e) => setAuthor(e.target.value)} className="w-full border rounded p-2 text-sm" />
</div>
<div>
<label className="text-sm">Faixa etária</label>
<select value={ageGroup} onChange={(e) => setAgeGroup(e.target.value)} className="w-full border rounded p-2 text-sm">
{ages.map((a) => (
<option key={a}>{a}</option>
))}
</select>
</div>
<div>
<label className="text-sm">Gêneros</label>
<div className="mt-2 flex flex-wrap gap-2">
{genres.map((g) => (
<button type="button" key={g} onClick={() => toggleGenre(g)} className={`text-sm border px-2 py-1 rounded ${selectedGenres.includes(g) ? 'bg-indigo-100' : ''}`}>
{g}
</button>
))}
</div>
</div>
<div>
<label className="text-sm">Resumo (opcional)</label>
<input value={summary} onChange={(e) => setSummary(e.target.value)} className="w-full border rounded p-2 text-sm" />
</div>
<div>
<label className="text-sm">Conteúdo</label>
<textarea value={content} onChange={(e) => setContent(e.target.value)} rows={8} className="w-full border rounded p-2 text-sm" />
</div>
<div>
<label className="text-sm">Imagens (opcional, até 6)</label>
<input type="file" accept="image/*" multiple onChange={handleFiles} className="mt-2 text-sm" />
{imagePreviews.length > 0 && (
<div className="mt-2 grid grid-cols-3 gap-2">
{imagePreviews.map((src, i) => (
<img key={i} src={src} alt={`preview-${i}`} className="w-full h-24 object-cover rounded" />
))}
</div>
)}
</div>
<div className="flex gap-2">
<button type="submit" className="px-4 py-2 bg-green-600 text-white rounded">Enviar</button>
</div>
</form>
);
}


