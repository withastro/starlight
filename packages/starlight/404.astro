---
import config from 'virtual:starlight/user-config';
import { pathWithBase } from './utils/base';

// Built-in CSS styles.
import './style/props.css';
import './style/reset.css';
import './style/shiki.css';
import './style/util.css';

// Layout
import PageFrame from './layout/PageFrame.astro';

// Components
import Header from './components/Header.astro';
import MarkdownContent from './components/MarkdownContent.astro';
import ThemeProvider from './components/ThemeProvider.astro';
import SkipLink from './components/SkipLink.astro';

// Important that this is the last import so it can override built-in styles.
import 'virtual:starlight/user-css';

const { lang = 'en', dir = 'ltr', locale } = config.defaultLocale || {};
---

<html lang={lang} dir={dir}>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>Not found</title>
  </head>
  <body>
    <ThemeProvider />
    <SkipLink {locale} />
    <PageFrame {locale} hasSidebar={false}>
      <Header slot="header" {locale} />
      <main>
        <MarkdownContent>
          <h1 id="starlight__overview">404</h1>
          <p>Houston, we have a problem.</p>
          <p>
            We couldnâ€™t find that link. Check the address or
            <a href={pathWithBase('/')}>head back home</a>.
          </p>
        </MarkdownContent>
      </main>
    </PageFrame>

    <style>
      main {
        margin: auto;
        padding: clamp(2rem, 10vmin, 6rem) var(--sl-nav-pad-x);
        max-width: var(--sl-content-width);
        max-width: max-content;
      }
    </style>
  </body>
</html>
