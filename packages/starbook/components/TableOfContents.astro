---
import type { MarkdownHeading } from 'astro';
import config from 'virtual:starbook/user-config';
import { generateToC } from './TableOfContents/generateToC';
import TableOfContentsList from './TableOfContents/TableOfContentsList.astro';

interface Props {
  headings: MarkdownHeading[];
}

const toc = generateToC(Astro.props.headings, config.tableOfContents);
---

<nav aria-labelledby="starbook__on-this-page">
  <h2 id="starbook__on-this-page">On this page</h2>
  <TableOfContentsList toc={toc} />
</nav>
